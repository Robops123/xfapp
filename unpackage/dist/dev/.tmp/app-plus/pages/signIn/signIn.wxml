<view class="content"><view class="page-body"><view class="sign-title"><view class="sign-title-l"><view class="portrait">{{''+$root.g0+''}}</view><view class="name">{{''+name+''}}</view></view><view class="sign-title-r"><view class="date"><picker mode="date" value="{{date}}" data-event-opts="{{[['change',[['bindDateChange',['$event']]]]]}}" bindchange="__e"><view class="uni-input">{{date+''}}<uni-icon vue-id="1" type="arrowdown" bind:__l="__l"></uni-icon></view></picker></view></view></view><text data-event-opts="{{[['tap',[['reset',['$event']]]]]}}" bindtap="__e">重置</text><view style="text-align:center;padding:20rpx 0;">当前位置:<text data-event-opts="{{[['tap',[['openLocation',['$event']]]]]}}" bindtap="__e">{{address}}</text></view><view class="uni-timeline"><view class="uni-timeline-item uni-timeline-first-item"><view class="uni-timeline-item-divider" style="{{'background:'+(!isAm?'#1AAD19':'#bbb')+';'}}"></view><view class="uni-timeline-item-content"><view><view class="uni-timeline-item-content-t1">{{"上班时间"+Timer[0].time}}</view><block wx:if="{{signDetail.length>0}}"><view class="desc-pad"><view class="time uni-timeline-item-content-t">{{'打卡时间 '+signDetail[0].workTime+''}}<block wx:if="{{signDetail[0].workType==1}}"><view class="iswq">外勤</view></block></view><view><uni-icon vue-id="2" type="location-filled" bind:__l="__l"></uni-icon>{{''+signDetail[0].location}}</view></view></block><block wx:else><view class="content-show"><view><view data-event-opts="{{[['tap',[['clickSign',[0]]]]]}}" class="module CBlue" bindtap="__e"><view class="text">{{signType==0?'上班打卡':'外勤打卡'}}</view><view class="time">{{time}}</view></view><block wx:if="{{is}}"><view class="colorGreen" style="text-align:center;">{{''+(signType==0?'已在考勤范围内':'未在考勤范围内')+''}}<block wx:if="{{signType==0}}"><text data-event-opts="{{[['tap',[['relocation',['$event']]]]]}}" class="relocation" bindtap="__e">重新定位</text></block></view></block></view></view></block></view></view></view><view class="uni-timeline-item uni-timeline-last-item"><view class="uni-timeline-item-divider" style="{{'background:'+(isAm?'#1AAD19':'#bbb')+';'}}"></view><view class="uni-timeline-item-content"><view><view class="uni-timeline-item-content-t1">{{"下班时间"+Timer[1].time}}</view><view><block wx:if="{{signDetail.length==2}}"><view class="desc-pad"><view class="time uni-timeline-item-content-t">{{'打卡时间:'+signDetail[1].workTime+''}}<block wx:if="{{signDetail[1].workType==1}}"><view class="iswq">外勤</view></block></view><view><uni-icon vue-id="3" type="location-filled" bind:__l="__l"></uni-icon>{{signDetail[1].location}}</view></view></block><view class="content-show"><block wx:if="{{signDetail.length==1}}"><view><view data-event-opts="{{[['tap',[['clickSign',[1]]]]]}}" class="module CBlue" bindtap="__e"><view class="text">{{signType==0?'下班打卡':'外勤打卡'}}</view><view class="time">{{time}}</view></view><view class="colorGreen" style="text-align:center;">{{''+(signType==0?'已在考勤范围内':'未在考勤范围内')+''}}<block wx:if="{{signType==0}}"><text data-event-opts="{{[['tap',[['relocation',['$event']]]]]}}" class="relocation" bindtap="__e">重新定位</text></block></view></view></block></view></view></view></view></view></view><block wx:if="{{false}}"><view><uni-collapse vue-id="4" bind:__l="__l" vue-slots="{{['default']}}"><uni-collapse-item vue-id="{{('5')+','+('4')}}" title="全部打卡信息" bind:__l="__l" vue-slots="{{['default']}}"><uni-list vue-id="{{('6')+','+('5')}}" bind:__l="__l" vue-slots="{{['default']}}"><view class="uni-list-cell-left"><block wx:for="{{allSign}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view style="border-bottom:1px dashed #007AFF;"><view>{{item.mode}}</view><view>{{item.address}}</view><view>{{item.time}}</view></view></block></view></uni-list></uni-collapse-item></uni-collapse></view></block></view><uni-popup vue-id="7" show="{{type==='middle-list'}}" position="middle" mode="fixed" data-event-opts="{{[['^hidePopup',[['togglePopup',['']]]]]}}" bind:hidePopup="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="title" style="padding:20rpx 0;font-weight:bold;width:100%;text-align:center;border-bottom:1px solid #666;">打卡备注</view><view class="content" style="padding:20rpx 10rpx;width:100%;"><text class="text">打卡时间:</text><text>{{bzText.time}}</text><view class="text">打卡地点:</view><view>{{bzText.address}}</view></view><view class="content" style="padding:20rpx 10rpx;width:100%;"><view>{{bzText.remarks}}</view></view><view data-event-opts="{{[['tap',[['togglePopup',['']]]]]}}" class="bottom" style="padding:20rpx 10rpx;color:cadetblue;width:100%;text-align:center;border-top:1px solid #666;" bindtap="__e">关闭</view></uni-popup></view>